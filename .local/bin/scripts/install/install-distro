#!/usr/bin/env sh

# TODO: implement better error handling from called scripts
# TODO: work out how to run this script before installing yadm
# TODO: look at ccache

# main function to call the proper installation functions
main () {
    # set default values
    CURRENT_DISTRO="arch" # TODO: this will be set dynamically in the future

    # set install script directory
    export INSTALL_SCRIPT_DIR="$HOME/.local/bin/scripts/install"
    
    # set variable for line separators (25 of -)
    DASH_LINE="-------------------------"

    case $CURRENT_DISTRO in
        arch) # arch linux install scripts
            echo "$DASH_LINE"
            echo "You are running arch linux!"
            echo "Loading arch installation..."
            echo "$DASH_LINE"
            # shellcheck source=./arch/install.sh
            . "$INSTALL_SCRIPT_DIR/arch/install.sh" || echo "Arch installation failed!"
            echo "$DASH_LINE"
            echo "Arch installation completed!"
            echo "$DASH_LINE"
            ;;
        *) # default
            echo "$DASH_LINE"
            echo "Distro not implemented yet."
            echo "$DASH_LINE"
            ;;
    esac
}

main

